import{m as B}from"./marked.esm.a0238cc0.js";import{T as C}from"./TagDialog.ae7ced91.js";import{D,l as U}from"./loadingDialog.2c7d45ac.js";import{B as x}from"./BaseLayout.4ba1edf1.js";import{s as d,l as t,b as g,i as V,h as e,e as S,g as o,d as E,k as y,x as F,j as u}from"./app.6c1b8228.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";const w={data(){return{activeTab:0,bookMarkTitle:"",bookMarkUrl:"",bookMarkLoding:!1,bookMarkSending:!1,bookMarkUrlErrorFlag:!1}},props:["originalBookMark","originalCheckedTag"],components:{DeleteAlertComponent:D,TagDialog:C,loadingDialog:U,BaseLayout:x},methods:{compiledMarkdown(){return B(this.bookMarkUrl)},changeTab(l){this.activeTab=l},submitCheck:_.debounce(_.throttle(async function(){if(this.bookMarkUrl==""){this.bookMarkUrlErrorFlag=!0;return}else this.submit()},100),150),submit(){this.bookMarkSending=!0,d.post("/api/bookmark/update",{bookMarkId:this.originalBookMark.id,bookMarkTitle:this.bookMarkTitle,bookMarkUrl:this.bookMarkUrl,tagList:this.$refs.tagDialog.serveCheckedTagListToParent()}).then(l=>{this.bookMarkSending=!1,this.$inertia.get("/BookMark/Search")})},deleteBookMark(){this.bookMarkDeleting=!0,d.post("/api/bookmark/delete",{bookMarkId:this.originalBookMark.id}).then(l=>{this.$inertia.get("/bookmark/search"),this.bookMarkDeleting=!1}).catch(l=>{console.log(l),this.articleSending=!1})}},mounted(){console.log(this.originalCheckedTag),this.bookMarkTitle=this.originalBookMark.title,this.bookMarkUrl=this.originalBookMark.url}},A={class:"articleContainer"},N=u("mdi-content-save"),I=u(" \u4FDD\u5B58 "),j={key:0,class:"error articleError"};function P(l,i,m,q,a,n){const k=t("v-text-field"),r=t("v-col"),b=t("DeleteAlertComponent"),h=t("v-icon"),f=t("v-btn"),c=t("v-row"),p=t("TagDialog"),M=t("v-form"),T=t("loadingDialog"),v=t("BaseLayout");return g(),V(v,{title:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u7DE8\u96C6",pageTitle:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u7DE8\u96C6"},{default:e(()=>[S("section",A,[o(M,{onSubmit:F(n.submit,["prevent"])},{default:e(()=>[o(c,{class:"head"},{default:e(()=>[o(r,{cols:"10"},{default:e(()=>[o(k,{modelValue:a.bookMarkTitle,"onUpdate:modelValue":i[0]||(i[0]=s=>a.bookMarkTitle=s),label:"\u30BF\u30A4\u30C8\u30EB"},null,8,["modelValue"])]),_:1}),o(r,{cols:"1"},{default:e(()=>[o(b,{onDeleteAricleTrigger:n.deleteBookMark},null,8,["onDeleteAricleTrigger"])]),_:1}),o(r,{cols:"1"},{default:e(()=>[o(f,{class:"longButton",color:"#BBDEFB",onClick:n.submitCheck,disabled:a.bookMarkSending},{default:e(()=>[o(h,null,{default:e(()=>[N]),_:1}),I]),_:1},8,["onClick","disabled"])]),_:1})]),_:1}),o(c,null,{default:e(()=>[o(r,null,{default:e(()=>[a.bookMarkUrlErrorFlag?(g(),E("p",j,"url\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044")):y("",!0)]),_:1}),o(r,{cols:"2"},{default:e(()=>[o(p,{ref:"tagDialog",originalCheckedTag:m.originalCheckedTag},null,8,["originalCheckedTag"])]),_:1})]),_:1}),o(k,{label:"url [\u5FC5\u9808]",modelValue:a.bookMarkUrl,"onUpdate:modelValue":i[1]||(i[1]=s=>a.bookMarkUrl=s)},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),o(T,{loadingFlag:a.bookMarkSending},null,8,["loadingFlag"])]),_:1})}var Q=L(w,[["render",P],["__scopeId","data-v-3fffd94a"]]);export{Q as default};
