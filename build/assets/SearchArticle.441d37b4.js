import{B as k,l as w}from"./BaseLayout.4ba1edf1.js";import{I as P,L as x,l as i,b as c,i as C,h as s,g as n,e as l,w as r,B as h,v as p,d as _,z as B,F as D,j as d,p as A,m as I,t as U}from"./app.6c1b8228.js";import{T as N}from"./TagDialog.ae7ced91.js";import{_ as F}from"./plugin-vue_export-helper.21dcd24c.js";const j={data(){return{articleToSearch:"",articleList:null,currentPage:1,pageCount:1,loading:!1,searchTarget:"title"}},components:{BaseLayout:k,InertiaLink:P,Link:x,TagDialog:N,loading:w},methods:{async searchArticle(){this.loading=!0,this.currentPage=1,await axios.post("/api/article/search",{currentPage:this.currentPage,articleToSearch:this.articleToSearch,tagList:this.$refs.tagDialog.serveCheckedTagListToParent(),searchTarget:this.searchTarget}).then(e=>{this.pageCount=e.data.pageCount,this.articleList=e.data.articleList,this.loading=!1}).catch(e=>{console.log(e),this.loading=!1})},async pagination(){this.loading=!0,await axios.post("/api/article/search",{currentPage:this.currentPage,articleToSearch:this.articleToSearch,tagList:this.$refs.tagDialog.serveCheckedTagListToParent(),searchTarget:this.searchTarget}).then(e=>{this.articleList=e.data.articleList,this.loading=!1}).catch(e=>{console.log(e),this.loading=!1})}},watch:{currentPage:function(e,o){this.pagination()}},mounted(){this.searchArticle()}},u=e=>(A("data-v-9b870490"),e=e(),I(),e),z={class:"searchArea"},E=d("mdi-magnify"),M=d(" \u691C\u7D22 "),O=u(()=>l("summary",null,"\u691C\u7D22\u5BFE\u8C61",-1)),R=u(()=>l("label",{for:"option1",class:"me-6"},"\u30BF\u30A4\u30C8\u30EB\u306E\u307F",-1)),q=u(()=>l("label",{for:"option2",class:"me-6"},"\u672C\u6587\u306E\u307F(\u4F4E\u901F)",-1)),G=d(" \u95B2\u89A7 \u7DE8\u96C6 ");function H(e,o,J,K,t,m){const f=i("v-text-field"),v=i("v-icon"),g=i("v-btn"),T=i("TagDialog"),L=i("loading"),b=i("Link"),y=i("v-container"),S=i("v-pagination"),V=i("BaseLayout");return c(),C(V,{title:"\u8A18\u4E8B\u691C\u7D22",pageTitle:"\u8A18\u4E8B\u691C\u7D22"},{default:s(()=>[n(y,null,{default:s(()=>[l("div",z,[n(f,{modelValue:t.articleToSearch,"onUpdate:modelValue":o[0]||(o[0]=a=>t.articleToSearch=a),label:"\u691C\u7D22",clearable:""},null,8,["modelValue"]),n(g,{color:"submit",elevation:"2",disabled:t.loading,onClick:o[1]||(o[1]=a=>m.searchArticle())},{default:s(()=>[n(v,null,{default:s(()=>[E]),_:1}),M]),_:1},8,["disabled"])]),l("details",null,[O,r(l("input",{type:"radio",id:"option1",value:"title","onUpdate:modelValue":o[2]||(o[2]=a=>t.searchTarget=a)},null,512),[[h,t.searchTarget]]),R,r(l("input",{type:"radio",id:"option2",value:"body","onUpdate:modelValue":o[3]||(o[3]=a=>t.searchTarget=a)},null,512),[[h,t.searchTarget]]),q]),n(T,{ref:"tagDialog",class:"w-50 mb-10",searchOnly:!0},null,512),r(n(L,null,null,512),[[p,t.loading]]),(c(!0),_(D,null,B(t.articleList,a=>r((c(),_("div",{key:a.id,class:"contentsContainer"},[l("h2",null,U(a.title),1),n(b,{href:"/Article/View/"+a.id},{default:s(()=>[n(g,{color:"submit",elevation:"2"},{default:s(()=>[G]),_:1})]),_:2},1032,["href"])],512)),[[p,!t.loading]])),128))]),_:1}),n(S,{modelValue:t.currentPage,"onUpdate:modelValue":o[4]||(o[4]=a=>t.currentPage=a),length:t.pageCount,"total-visible":7},null,8,["modelValue","length"])]),_:1})}var Z=F(j,[["render",H],["__scopeId","data-v-9b870490"]]);export{Z as default};
