import{B as M,l as P}from"./BaseLayout.4ba1edf1.js";import{I as V,L as w,l as n,b as l,i as x,h as i,g as o,e as c,w as g,v as h,d as _,z as B,F as C,j as r,t as S}from"./app.6c1b8228.js";import{T as y}from"./TagDialog.ae7ced91.js";import{_ as D}from"./plugin-vue_export-helper.21dcd24c.js";const N={data(){return{bookMarkToSearch:"",bookMarkList:null,currentPage:1,pageCount:1,loading:!1}},components:{BaseLayout:M,InertiaLink:V,Link:w,TagDialog:y,loading:P},methods:{async search(){this.loading=!0,this.currentPage=1,await axios.post("/api/bookmark/search",{currentPage:this.currentPage,bookMarkToSearch:this.bookMarkToSearch,tagList:this.$refs.tagDialog.serveCheckedTagListToParent()}).then(e=>{this.pageCount=e.data.pageCount,this.bookMarkList=e.data.bookMarkList,this.loading=!1}).catch(e=>{console.log(e),this.loading=!1})},async pagination(){this.loading=!0,await axios.post("/api/bookmark/search",{currentPage:this.currentPage,bookMarkToSearch:this.bookMarkToSearch,tagList:this.$refs.tagDialog.serveCheckedTagListToParent()}).then(e=>{this.bookMarkList=e.data.bookMarkList,this.loading=!1}).catch(e=>{console.log(e),this.loading=!1})}},watch:{currentPage:function(e,s){this.pagination()}},mounted(){this.search()}},E={class:"searchArea"},F=r("mdi-magnify"),I=r(" \u691C\u7D22 "),U=["href"],j=r("mdi-arrow-top-left-bold-box-outline"),z=r(" \u7DE8\u96C6 ");function A(e,s,O,q,t,k){const p=n("v-text-field"),u=n("v-icon"),d=n("v-btn"),m=n("TagDialog"),f=n("loading"),b=n("Link"),v=n("v-container"),L=n("v-pagination"),T=n("BaseLayout");return l(),x(T,{title:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u691C\u7D22",pageTitle:"\u30D6\u30C3\u30AF\u30DE\u30FC\u30AF\u691C\u7D22"},{default:i(()=>[o(v,null,{default:i(()=>[c("div",E,[o(p,{modelValue:t.bookMarkToSearch,"onUpdate:modelValue":s[0]||(s[0]=a=>t.bookMarkToSearch=a),label:"\u691C\u7D22",clearable:""},null,8,["modelValue"]),o(d,{color:"submit",elevation:"2",disabled:t.loading,onClick:s[1]||(s[1]=a=>k.search())},{default:i(()=>[o(u,null,{default:i(()=>[F]),_:1}),I]),_:1},8,["disabled"])]),o(m,{ref:"tagDialog",class:"w-50 mb-10",searchOnly:!0},null,512),g(o(f,null,null,512),[[h,t.loading]]),(l(!0),_(C,null,B(t.bookMarkList,a=>g((l(),_("div",{key:a.id,class:"contentsContainer"},[c("a",{href:a.url,target:"_blank",rel:"noopener noreferrer"},[c("h2",null,[o(u,null,{default:i(()=>[j]),_:1}),r(" "+S(a.title),1)])],8,U),o(b,{href:"/BookMark/Edit/"+a.id},{default:i(()=>[o(d,{color:"submit",elevation:"2"},{default:i(()=>[z]),_:1})]),_:2},1032,["href"])],512)),[[h,!t.loading]])),128))]),_:1}),o(L,{modelValue:t.currentPage,"onUpdate:modelValue":s[2]||(s[2]=a=>t.currentPage=a),length:t.pageCount,"total-visible":7},null,8,["modelValue","length"])]),_:1})}var Q=D(N,[["render",A]]);export{Q as default};
