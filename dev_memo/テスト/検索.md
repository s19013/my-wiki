# フロント
|結果|テスト|コメント|
|--|--|--|
|o|検索結果をとってこれるか||
|o|検索欄に入力した文字が`articleToSearch`に代入されるか||
|o|検索対象のラジオボタンを切り替えると`searchTarget`が切り替わるか||
|o|検索ボタンを押すとバックに送信されるか||
|o|送信する時`tagDialog`からチェックをつけたタグのidが入った配列を取ってこれるか||
|o|paginationのボタンを押した時`currentPage`が変化するか||

# バック
|結果|テスト|コメント|
|--|--|--|
|o|`articleToSearch`の`%`,`_`をエスケープして,空白区切りのリスト化して,`wordListToSearch`に代入できるか||
|o|タグで絞り込みができるか||
|o|`searchTarget`が`title`の場合,記事のタイトルをlike検索できるか||
|o|`searchTarget`が`body`の場合,記事の本文をlike検索できるか||
|o|like検索で引っかかった件数を数えられるか||
|o|ページ数計算できるか||
|o|何件目から取得するか計算できるか||
|o|今までの条件を踏まえて検索できるか||

# タグで絞り込みができるか
book_markテーブルとbook_mark_tags,tagsを結合
以下のものは除外
* 削除された記事
* はずされたタグ
* 削除されたタグ

* tag_idをすべてorで検索

tag_id = 1とtag_id = 2でor検索
|id|title|body|tag_id|
|--|--|--|
|3|title3|body3|1|
|3|title3|body3|2|
|4|title4|body4|1|
|5|title5|body5|1|

指定したタグがすべてあてハマる(tag_id = 1,tag_id =2 の両方を持つ)のはid=3のブックマークである
* group byでidごとにまとめて
* HAVINGでidごとのデータの個数を数える
* 指定したタグがすべて当てはまるのなら同じidを持つブックマークが指定したタグと同じ数ある
->2つ指定して,すべて当てはまる記事があった場合,同じidを持つブックマークが2こ現れる

|id|title|body|
|--|--|--|
|3|title3|body3|

# ページ数計算
ページ数 = 合計件数 / 1ページに表示するデータの数
小数は切り上げ

合計件数:105
1ページに表示するデータの数:10

105 / 10 = 10.5 
(切り上げ)-> 11 

# 何件目から取得するか(最初の何件飛ばすか)
1ページに表示するデータの数 * (現在のページ数 - 1)

1ページに表示するデータの数:10
現在のページ数:1

10 * (1-1) = 0

1ページに表示するデータの数:10
現在のページ数:2
10 * (2-1) = 10
