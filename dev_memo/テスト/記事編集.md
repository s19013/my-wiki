# フロント
|結果|テスト|コメント|
|--|--|--|
|o|テキストエリアとhtml表示をタブで切り替えられるか||
|o|変数`articleBody`に本文が代入されているか||
|o|変数`articleTitle`にタイトルが代入されているか||
|o|タブを変換後にした時,変数`articleBody`の中身がhtmlとして表示されるか||
|o|`本文`タブを押したときに`activeTab === 0` になっているか||
|o|`変換後`タブを押したときに`activeTab === 1` になっているか||
|o|laravelに送信できるか||
|o|送信中にローディングアニメが表示されるか||
|o|送信中は操作できないようになっているか||
|o|送信ボタンを連打してもたくさんリクエストが送れないようになっているか||
|o|別の画面の後に戻るボタンで戻って来ても二重送信されないか||
|o|本文がからの状態で送信しようとしたらエラーが出て送信ができないようになっているか||
|o|送信する時`tagDialog`からチェックをつけたタグのidが入った配列を取ってこれるか||
|o|削除ボタンを押すとバックに送信せず記事検索に戻るか||
|o|dbから指定した記事のidのタイトルと本文､紐付けたタグを取って来れるか||
|o|タグ情報をtagdialogに渡せているか||
|o|dbから取ってきたデータを表示できるか||
|o|保存ボタンを押すとバックに送信できるか||
|o|削除ボタンを押すと記事を削除して検索画面へ遷移できるか||

# バック
|結果|テスト|コメント|
|--|--|--|
|o|タイトルが空だったら タイトルに日付が送信されているか||
|o|ログインしていない状態でapi通信しようとすると弾かれるか||
|o|フロントから受け取った`articleTitle`,`articleBody`をdbに保存できているか||
|o|tagListの中が空だった時articleTagsテーブルのtag_idにnullが入っているか||
|o|tagListの中のidをすべてarticle_idと結びつけて保存されているか||
|o|指定された記事を削除できるか||
|o|更新前の記事に紐付けられていたタグを取得できるか||
|o|更新前は記事にタグが1つもついていなくて,更新後にはタグが紐付けられていたら,更新前の$articleIdのtag_idがnullのデータを論理削除||
|o|追加されたタグを探しだせるか||
|o|追加されたタグをテーブルに追加できるか||
|o|削除されたタグを探しだせるか||
|o|削除されたタグをテーブルから論理削除できるか||
|o|紐付けられていたタグがすべて削除されたのならtag_id = null||


# 更新前は記事にタグが1つもついていなくて,更新後にはタグが紐付けられていたら,更新前の$articleIdのtag_idがnullのデータを論理削除
記事のid:1  
tagList:[1,2]  
今の日付:2022-08-03 22:18:00  

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|null|null|2022-08-03 22:16:13|2022-08-03 22:16:13|

↓

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|null|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|

# 追加されたタグを探しだせるか,削除されたタグを探しだせるか
更新前:[1,4,5,7]  
更新後:[1,7,8,10]  

追加: 更新後 から 更新前とかぶる要素を全部消す  
追加: 更新前 から 更新後とかぶる要素を全部消す  

追加: 更新後 - 更新前  = [1,7,8,10] - [1,4,5,7]  = [8,10]  
削除: 更新後 - 更新前  = [1,4,5,7]  - [1,7,8,10] = [4,5]  

記事のid:1  
更新前:[1,4,5,7]  
更新後:[1,7,8,10]  
今の日付:2022-08-03 22:18:00  

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|1|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|4|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|5|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|7|null|2022-08-03 22:16:13|2022-08-03 22:16:13|

↓

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|1|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|4|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|5|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|7|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|8|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|10|null|2022-08-03 22:16:13|2022-08-03 22:16:13|


# 紐付けられていたタグがすべて削除されたのならtag_id = null
記事のid:1  
更新前:[1,4,5,7]  
更新後:[]  
今の日付:2022-08-03 22:18:00  

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|1|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|4|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|5|null|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|7|null|2022-08-03 22:16:13|2022-08-03 22:16:13|

↓

|article_id|tag_id|delete_at|create_at|update_at|
|--|--|--|--|--|
|1|1|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|4|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|5|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|7|2022-08-03 22:18:00|2022-08-03 22:16:13|2022-08-03 22:16:13|
|1|null|null|2022-08-03 22:18:00|2022-08-03 22:18:00|
