db -> データベース

スマホ版はボタンを押してmdとhtmlを切り替える

spaでつくるのがいいのかな?  
それともlaravelの上にvueを乗っけるのがいいのかな  
どっちがいいんだ?(mpaというらしい)
ログインしないと使えない機能が多い + できることは少ないからspaでいいのかな?


https://zenn.dev/rinda_1994/articles/e6d8e3150b312d
https://lealog.hateblo.jp/entry/2021/08/12/103111
を参考にしたところ

基本mpaで一部はspa(api?)で処理するのが最適?

基本的な画面遷移はlaravelで基本的な遷移が終わった後はvueで?
->なんて説明すればいいんだ?

sanctumの場合tokenはどこに保存するのかな?vuex?  

リンクだけ と 記事選べるように  

認証周り面倒そうだから他の部分先に作って､後付で認証をつけよう  

全文検索で負荷が少なくて早い方法はあるのかな?
pixivは重くなるからという理由で全文検索機能をやめたらしいし｡｡｡

タグはqiitaみたいな感じでモーダル表示する  
既存のタグにチェックをつけたり外したりする  
&emsp;->配列に入れて於けば良いと思う  
それでいて､新規タグ登録もできるようにする  
&emsp;->新規タグ登録したらはapi通信してdbに登録  
&emsp;->新規タグ登録後リストを更新する必要がある  
タグを検索する機能をつける  

やっぱ配列だと検索が面倒になる

iniTag    = dbから受け取ったやつ  
editedTag = 色々操作した後のリスト  
pushedTag = 新しく追加したやつ  
erasedTag = 削除したやつ  

例  
iniTag    = [1,2,4,7]  
editedTag = [2,4,7,9,10]  
pushedTag = [9,10]  
erasedTag = [1]  

ログインしたら,トークンを発行してvuexでトークンを保存?
vueの方で最初に表示される画面でトークン発行?

Inertiaとか初めて触るけどうまく使いこなせればtoken発行とかいらないかも?
そんなことはなかった大人しくトークン発行しよう  
なんかいけた､エラーを返すのではなくログイン画面へ誘導されるし  
web.phpが肥大化してしまうかも?  
やっぱりsanctum使う?


ログイン機能等、認証系機能もすべて Vue.jsで作りたい場合Inertia?  
というかinertiaを使うとmpaっぽいspaになる?  






トークン発行  
一時保存機能が必要かな?  
->ローカルに保存させる必要があるのかな  


ログイン時にのみ使えるやつだからセッション認証でいいかな?  
今回はセッション認証でいいけど､もしモバイル版も作る場合はクッキー認証は使えない｡  

やっぱりトークンじゃないとだめなのか?
完全spa化する時のルーティングの勉強が必要かな?
->vueのルーティングと､laravlのルーティングどっちもうまい感じにしないとだめ?
->うまい感じってなんだ!?

そもそもspa認証はクッキー認証のことだった?

正直良くわかってないけどできた?

$autoIncrementはデフォルトでfalseなんだけどかってにtrueになってる!?  
->書き方が悪いの?
キャッシュとかの問題?行を消して書き直したら戻ったけど

idはunsignedBigInterger｡外部キーにしたればそのカラムもunsignedBigIntergerにする  
型をあわせよ

今回は外部キーは後から付け足す形

送信中の時はなにか表示しよう
sass入れたらもう一度dev

chormeの拡張機能と連動できないかな?  
わざわざサイト開くの面倒だし｡  
だとするとapi通信なんだよね｡->セキュリティどうしよう  
今回spa認証(クッキー認証)だし  
わたししか使わないから､わたししかわからないパスワードとセットで通信すればよいかな?  
パスワードどうやって隠そう?  
そもそもgithubでprivateで投稿すればいいよね｡面接で見せたあとにprivate化すればok  
最初からコンポーネント化しないで､まずは作ってみて｡コンポーネント化できないかなと考える順番が良い  
とにかくまずは動くものを仕上げよう  


なんかvuetify入れたあたりからcssがおかしくなってきたんだけど  
なんかvuetifyと一緒に入ってきたtailwindがめちゃくちゃ悪さしてるんだけど  

ルーターからモデルを呼ぼうとするとエラーを吐かれる 
funcの中でモデルを使って返すかな?でも､コードがあっちこっち行きそうだからコントローラーにまとめておこう

編集と作成のプログラム9割やること一緒だからうまく使いまわせないかな?  
バック希望のハズなのにフロントの時間が長いな｡｡｡

.stop親につけるパターンと子につけるパターンがあるけどどっちだよ!!  
とりあえず色々読んだところ､子につけた方が良いのかな?  
もっと細かくコミットすべき  
トランザクションのテストってどうすれば良いんだ?  

作りを大きく変える?
ほぼほぼ同じことするけど別個でつくるべき?

テーブルが違うだけでほぼほぼ同じことするから何かの関数にまとめたいな｡

今はこのまますすめて後で直そう
ジャyないと頭がこんがらがる

v-paginationの@inputが反応しないってどういうことやねん

jsとかの整理apiあたりの整理
db作り直し
今回は作り直しを選んだけど､本番では行を消したり追加したりする作業が必要になる

bookmarkあたりテスト

pagination:getにしか対応していない
->自作するしかないか

limitとかが元の数よりオーバーしてもエラーは出ない

bookmark->bookMark

元タグなし,idで探して->論理削除
編集してタグなし->元元紐付けられていたタグをすべて消すことを確認したら新しくtag_id=null

watchって負担大きいのかな?

|--|--|
|o|webのルーティングをグループ化|
|o|bookemarkに関するviewを編集|
|o|bookemarkに関するcontrollerを編集|

|--|--|
|o|db作り直し|
|o|apiに送る変数名を変更|
||ライフサークルなどを使い初期ローディング実装|

|--|--|
|o|検索窓と変数を結びつけられるか|
|o|検索窓と結びつけた変数をapiで送れるか|
|o|検索に関連するデータをとってこれるか|
||検索にタグを追加できるか|

ロック系の処理追加
->トランザクションの時に自動でやってくれるからこちらがわが何かする必要なし


タグ検索
記事の本文検索
ブックマークの更新

propsあたりを簡単にする
cssまとめ

長ったらしい変数を短くする
変数あたりがぐちゃぐちゃになっているので修正する必要がある
パス周りもぐちゃぐちゃになっている
->全部最初は小文字化する

またあしたはテストしまくり

変数修正
bookmark,Bookmark -> bookMark
